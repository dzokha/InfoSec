"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_use-hide-footer_use-hide-footer_ts-ui_packages_commits_shared_use-tree-pane_tsx-u-59d336"],{73435:(e,t,i)=>{i.d(t,{QC:()=>m,s2:()=>h,wH:()=>a,xY:()=>f});var n=i(26940);function r(e,t){var i=function(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t,0);return i.get?i.get.call(e):i.value}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){return e<t?-1:+(e>t)}function s(e,t){return a(e.name,t.name)}function o(e,t){return a(e.fileName,t.fileName)}function c(e){return e.diff}let FileNode=class FileNode{constructor(e){l(this,"diff",void 0),l(this,"filePath",void 0),l(this,"fileName",void 0),l(this,"directoryParts",void 0),this.diff=e,this.filePath=e.path;let t=this.filePath.split("/");this.fileName=t[t.length-1],this.directoryParts=t.slice(0,t.length-1)}};var d=new WeakMap;let DirectoryNode=class DirectoryNode{getOrCreateDirectory(e){let t=r(this,d).get(e);if(!t){let i=this.path?`${this.path}/`:"";t=new DirectoryNode(e,`${i}${e}`),this.directories.push(t),r(this,d).set(e,t)}return t}sort(){for(let e of(this.directories.sort(s),this.files.sort(o),this.directories))e.sort()}getOrderedDiffs(){let e=this.files.map(c);for(let t of this.directories)e.push(...t.getOrderedDiffs());return e}constructor(e,t){l(this,"directories",[]),l(this,"files",[]),function(e,t,i){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object");t.set(e,i)}(this,d,{writable:!0,value:new Map}),l(this,"name",void 0),l(this,"path",void 0),this.name=e,this.path=t}};function f(e){let t=new DirectoryNode("","");for(let i of e.map(e=>new FileNode(e))){let e=t;for(let t of i.directoryParts)e=e.getOrCreateDirectory(t);e.files.push(i)}return t.sort(),t}function m(e){let t;t="string"==typeof e?e:e?.newPath||e?.oldPath;let i=t?.lastIndexOf(".");return t?!i||i<0?n.F7:`.${t.substring(i+1)}`:""}function h(e){let t={};return e.map(e=>{let i=m(e.path);void 0!==t[i]?t[i]+=1:t[i]=1}),t}},4203:(e,t,i)=>{i.d(t,{U:()=>c});var n=i(21728),r=i(60039),l=i(97665),a=i(94747),s=i(80804),o=i(7799);function c(e){let t,i,r,o,c=(0,n.c)(10),{onSuccess:f,onError:m}=e,h=(0,l.jE)();return c[0]!==h?(t=async e=>{h.setQueryData((0,s.nZ)(),t=>({...t,...e}))},c[0]=h,c[1]=t):t=c[1],c[2]!==f?(i=()=>{f()},c[2]=f,c[3]=i):i=c[3],c[4]!==m?(r=e=>{m(e)},c[4]=m,c[5]=r):r=c[5],c[6]!==t||c[7]!==i||c[8]!==r?(o={mutationFn:d,onMutate:t,onSuccess:i,onError:r},c[6]=t,c[7]=i,c[8]=r,c[9]=o):o=c[9],(0,a.n)(o)}async function d(e){let{commentsPreference:t,lineSpacing:i,splitPreference:n}=e;if(!(0,o.M3)())return;let l={};t&&(l={...l,commentsPreference:t}),i&&(l={...l,lineSpacing:i}),n&&(l={...l,diff:n});let a=await (0,r.Sr)("/users/diffview",{method:"POST",headers:{Accept:"application/json"},body:l}),s=await a.json();if(a.ok)return s;throw Error(s.error||"Unknown error occurred",{cause:a.status})}},39419:(e,t,i)=>{i.d(t,{sI:()=>n});let n={Visible:"visible",Collapsed:"collapsed"}},11251:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(96540);function r({focusRowRef:e,mouseRowRef:t}){let[i,r]=n.useState(!1);return n.useEffect(()=>{if(e.current&&t.current){let i=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&r(!0)};e.current.onfocus=()=>{i()},e.current.onblur=()=>{r(!1)},t.current.onmouseenter=()=>{i()},t.current.onmouseleave=()=>{r(!1)}}},[e,t]),i}},14103:(e,t,i)=>{i.d(t,{L:()=>r});var n=i(96540);function r(e){(0,n.useEffect)(()=>{if(!e)return;let t=document.querySelector(".footer");if(t)return t.hidden=!0,()=>{t.hidden=!1}},[e])}},321:(e,t,i)=>{i.d(t,{q:()=>h});var n=i(74848),r=i(63869),l=i(68415),a=i(80663),s=i(96540),o=i(96235),c=i(60039);async function d(e,t){if(!t)return;let i=new FormData;i.set("file_tree_visible",e?"true":"false"),(0,c.DI)((0,o.h6D)(t),{method:"PUT",body:i,headers:{Accept:"application/json"}})}let f={sm:l.Gy.small,md:l.Gy.medium,lg:l.Gy.large},m={size:"medium",mobileBreakpoint:"md"};function h(e,t,i,o){let c={...m,...o},[h]=(0,a.I)(()=>!1,!0,[]),u=(0,s.useRef)(null),p=(0,s.useRef)(null),x=f[c.mobileBreakpoint??"md"],[g,y]=(0,s.useState)(t),[j,b]=(0,s.useState)(!1),v=(0,s.useCallback)(()=>{(0,l.nn)(window.innerWidth)<=x?(b(!0),requestAnimationFrame(()=>p.current?.focus())):(y(!0),d(!0,i),requestAnimationFrame(()=>u.current?.focus()))},[x,i]),S=(0,s.useCallback)(()=>{(0,l.nn)(window.innerWidth)<=x?(b(!1),requestAnimationFrame(()=>p.current?.focus())):(y(!1),d(!1,i),requestAnimationFrame(()=>u.current?.focus()))},[x,i]),N=(0,s.useMemo)(()=>(0,n.jsx)(r.L,{expanded:g,alignment:"left",ariaLabel:g?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:u,onToggleExpanded:()=>{g?S():v()},className:`d-none d-${c.mobileBreakpoint}-flex position-relative`,size:c.size}),[g,e,c.mobileBreakpoint,c.size,S,v]),_=(0,s.useMemo)(()=>(0,n.jsx)(r.L,{expanded:j,alignment:"left",ariaLabel:j?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:p,onToggleExpanded:()=>{j?S():v()},className:`d-${c.mobileBreakpoint}-none position-relative`,size:c.size}),[j,e,c.mobileBreakpoint,c.size,S,v]);return{splitPagePaneHidden:h&&!t,splitPageContentHidden:{narrow:j,regular:!1},isTreeExpanded:g,isMobileTreeExpanded:j,expandTree:v,collapseTree:S,treeToggleElement:(0,s.useMemo)(()=>(0,n.jsxs)(n.Fragment,{children:[_,N]}),[_,N]),treeToggleRef:u}}},54779:(e,t,i)=>{i.d(t,{$:()=>s});var n=i(74848),r=i(38621),l=i(15385),a=i(64979);let s=e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.l.Divider,{}),(0,n.jsx)(a.t,{eventContext:{prx:!0},leadingVisual:(0,n.jsx)(r.CopilotIcon,{}),fileDiffReference:e.copilotChatReference})]});try{s.displayName||(s.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}},92032:(e,t,i)=>{i.d(t,{oj:()=>S,ZH:()=>y});var n=i(74848),r=i(21728),l=i(38621),a=i(96540),s=i(89985),o=i(34614),c=i(55864),d=i(99987),f=i(73435),m=i(58990),h=i(11251),u=i(84483),p=i(96679);let x={"file-tree-row":"DiffFileTree-module__file-tree-row--yr73E"},g=(0,a.memo)(function(e){let t,i=(0,r.c)(2),{changeType:l}=e;return i[0]!==l?(t=(0,n.jsx)(m.E,{status:l}),i[0]=l,i[1]=t):t=i[1],t});g.displayName="FileStatusIconItem";let y=(0,a.memo)(function(e){let t,i,d,f,m,u,y,j,b,v,S=(0,r.c)(44),{file:N,depth:_,hash:w,onSelect:C}=e,F=(0,a.useRef)(null),D=(0,a.useRef)(null),E=`#diff-${N.diff.pathDigest}`;S[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:F,mouseRowRef:F},S[0]=t):t=S[0];let I=(0,h.Z)(t),P=N.diff.totalCommentsCount??0,k=N.diff.highestAnnotationLevel,T=null,$=null;switch(k){case"WARNING":{let e,t,i=P>0?"and ":"";S[1]!==i?(e=(0,n.jsxs)("span",{className:"sr-only",children:[i," has warning annotations"]}),S[1]=i,S[2]=e):e=S[2],$=e,S[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("div",{className:"pl-1 fgColor-attention",children:(0,n.jsx)(l.AlertIcon,{})}),S[3]=t):t=S[3],T=t;break}case"NOTICE":{let e,t,i=P>0?"and ":"";S[4]!==i?(e=(0,n.jsxs)("span",{className:"sr-only",children:[i," has notice annotations"]}),S[4]=i,S[5]=e):e=S[5],$=e,S[6]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("div",{className:"pl-1 fgColor-default",children:(0,n.jsx)(l.InfoIcon,{})}),S[6]=t):t=S[6],T=t;break}case"FAILURE":{let e,t,i=P>0?"and ":"";S[7]!==i?(e=(0,n.jsxs)("span",{className:"sr-only",children:[i," has failure annotations"]}),S[7]=i,S[8]=e):e=S[8],$=e,S[9]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("div",{className:"pl-1 fgColor-danger",children:(0,n.jsx)(l.XCircleFillIcon,{})}),S[9]=t):t=S[9],T=t}}S[10]!==N.diff.pathDigest||S[11]!==w?(i=()=>{if(F.current&&N.diff.pathDigest===w){let e=window.setTimeout(()=>{let e=p.XC?.getElementById("diff_file_tree")?.parentElement,t=F.current.offsetTop,i=p.cg?.innerHeight??0;e&&(e.scrollTop=t-i/2)},0);return()=>{window.clearTimeout(e)}}},d=[N.diff.pathDigest,w],S[10]=N.diff.pathDigest,S[11]=w,S[12]=i,S[13]=d):(i=S[12],d=S[13]),(0,a.useEffect)(i,d),S[14]!==E||S[15]!==N.diff||S[16]!==C?(f=e=>{if(e.nativeEvent instanceof KeyboardEvent){if(F?.current!==document.activeElement)return void e.preventDefault();if("Enter"===e.key||" "===e.key){e.preventDefault(),C?.(N.diff),D?.current?.click();return}}if(e.nativeEvent instanceof MouseEvent){if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),window.open(E,"_blank");return}C?.(N.diff),D?.current?.click()}},S[14]=E,S[15]=N.diff,S[16]=C,S[17]=f):f=S[17];let W=f,A=N.fileName??"";S[18]!==E||S[19]!==A?(m=(0,n.jsx)(o.A,{href:E,muted:!0,ref:D,role:"presentation",className:"fgColor-default",tabIndex:-1,children:A}),S[18]=E,S[19]=A,S[20]=m):m=S[20];let R=m,G=N.diff.pathDigest===w;return S[21]!==N.diff.changeType?(u=(0,n.jsx)(c.G.LeadingVisual,{children:(0,n.jsx)(g,{changeType:N.diff.changeType})}),S[21]=N.diff.changeType,S[22]=u):u=S[22],S[23]!==R||S[24]!==A||S[25]!==I?(y=I?(0,n.jsx)(s.m,{text:A,direction:"ne",children:R}):R,S[23]=R,S[24]=A,S[25]=I,S[26]=y):y=S[26],S[27]!==P?(j=!!P&&(0,n.jsxs)("span",{className:"sr-only",children:["has ",P<10?P:"9+"," ",P>1?"comments":"comment"]}),S[27]=P,S[28]=j):j=S[28],S[29]!==T||S[30]!==k||S[31]!==P?(b=(!!P||k)&&(0,n.jsx)(c.G.TrailingVisual,{children:(0,n.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[!!P&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.CommentIcon,{}),(0,n.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:P<10?P:"9+"})]}),T]})}),S[29]=T,S[30]=k,S[31]=P,S[32]=b):b=S[32],S[33]!==$||S[34]!==_||S[35]!==N.diff.path||S[36]!==N.diff.pathDigest||S[37]!==W||S[38]!==b||S[39]!==G||S[40]!==u||S[41]!==y||S[42]!==j?(v=(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.G.Item,{defaultExpanded:!0,"aria-level":_,current:G,id:N.diff.path,onSelect:W,ref:F,className:x["file-tree-row"],children:[u,y,j,$,b]},N.diff.pathDigest)}),S[33]=$,S[34]=_,S[35]=N.diff.path,S[36]=N.diff.pathDigest,S[37]=W,S[38]=b,S[39]=G,S[40]=u,S[41]=y,S[42]=j,S[43]=v):v=S[43],v});function j(e){let t,i,l,s,o,f,m,u,p,x,g,y,S=(0,r.c)(43);S[0]!==e?({directory:t,renderPattern:l,depth:s,leadingPath:o,...i}=e,S[0]=e,S[1]=t,S[2]=i,S[3]=l,S[4]=s,S[5]=o):(t=S[1],i=S[2],l=S[3],s=S[4],o=S[5]);let N=void 0===s?0:s,_=void 0===o?"":o,w=_?`${_}/`:"",C=a.useRef(null),F=a.useRef(null);S[6]===Symbol.for("react.memo_cache_sentinel")?(f={focusRowRef:F,mouseRowRef:C},S[6]=f):f=S[6];let D=(0,h.Z)(f);if(!t.files.length&&1===t.directories.length){let e,r;if(S[7]!==N||S[8]!==t.directories||S[9]!==t.name||S[10]!==i||S[11]!==w||S[12]!==l){let r;S[14]!==N||S[15]!==t.name||S[16]!==i||S[17]!==w||S[18]!==l?(r=e=>(0,n.jsx)(j,{depth:0===N?1:N,directory:e,leadingPath:`${w}${t.name}`,renderPattern:l,...i},e.path),S[14]=N,S[15]=t.name,S[16]=i,S[17]=w,S[18]=l,S[19]=r):r=S[19],e=t.directories.map(r),S[7]=N,S[8]=t.directories,S[9]=t.name,S[10]=i,S[11]=w,S[12]=l,S[13]=e}else e=S[13];return S[20]!==e?(r=(0,n.jsx)(n.Fragment,{children:e}),S[20]=e,S[21]=r):r=S[21],r}S[22]!==N||S[23]!==t||S[24]!==i||S[25]!==l?(m=function(){return"traditional"===l?(0,n.jsx)(b,{directory:t,depth:N,renderPattern:l,...i}):(0,n.jsx)(v,{directory:t,depth:N,renderPattern:l,...i})},S[22]=N,S[23]=t,S[24]=i,S[25]=l,S[26]=m):m=S[26];let E=m;if(0===N){let e;return S[27]!==E?(e=E(),S[27]=E,S[28]=e):e=S[28],e}S[29]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(c.G.LeadingVisual,{children:(0,n.jsx)(c.G.DirectoryIcon,{})}),S[29]=u):u=S[29];let I=`${w}${t.name}`;return S[30]!==I?(p=(0,n.jsx)("span",{ref:C,children:I}),S[30]=I,S[31]=p):p=S[31],S[32]!==t.name||S[33]!==w||S[34]!==D?(x=D&&(0,n.jsx)(d.m,{"data-testid":`${t.name}-directory-item-tooltip`,id:`${t.name}-directory-item-tooltip`,contentRef:F,"aria-label":`${w}${t.name}`,open:!0,direction:"ne"}),S[32]=t.name,S[33]=w,S[34]=D,S[35]=x):x=S[35],S[36]!==E?(g=(0,n.jsx)(c.G.SubTree,{children:E()}),S[36]=E,S[37]=g):g=S[37],S[38]!==t.path||S[39]!==p||S[40]!==x||S[41]!==g?(y=(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.G.Item,{ref:F,defaultExpanded:!0,id:t.path,children:[u,p,x,g]},t.path)}),S[38]=t.path,S[39]=p,S[40]=x,S[41]=g,S[42]=y):y=S[42],y}let b=(0,a.memo)(function(e){let t,i,l,a,s,o,c,d=(0,r.c)(20);d[0]!==e?({directory:t,fileNodeRenderer:i,renderPattern:a,depth:s,...l}=e,d[0]=e,d[1]=t,d[2]=i,d[3]=l,d[4]=a,d[5]=s):(t=d[1],i=d[2],l=d[3],a=d[4],s=d[5]);let f=void 0===s?0:s;if(d[6]!==f||d[7]!==t.directories||d[8]!==t.files||d[9]!==i||d[10]!==l||d[11]!==a){let e,r=t.files.map(N).concat(t.directories.map(_));r.sort(w),d[13]!==f||d[14]!==i||d[15]!==l||d[16]!==a?(e=e=>"file"!==e.pathType?(0,n.jsx)(j,{depth:f+1,directory:e.node,fileNodeRenderer:i,renderPattern:a,...l},e.path):i?i({...l,file:e.node,depth:f+1}):(0,n.jsx)(y,{depth:f+1,file:e.node,...l},e.path),d[13]=f,d[14]=i,d[15]=l,d[16]=a,d[17]=e):e=d[17],o=r.map(e),d[6]=f,d[7]=t.directories,d[8]=t.files,d[9]=i,d[10]=l,d[11]=a,d[12]=o}else o=d[12];return d[18]!==o?(c=(0,n.jsx)(n.Fragment,{children:o}),d[18]=o,d[19]=c):c=d[19],c});function v(e){let t,i,l,a,s,o,c=(0,r.c)(21);c[0]!==e?({directory:t,depth:l,...i}=e,c[0]=e,c[1]=t,c[2]=i,c[3]=l):(t=c[1],i=c[2],l=c[3]);let d=void 0===l?0:l;if(c[4]!==d||c[5]!==t.files||c[6]!==i){let e;c[8]!==d||c[9]!==i?(e=e=>(0,n.jsx)(y,{depth:d+1,file:e,...i},e.filePath),c[8]=d,c[9]=i,c[10]=e):e=c[10],a=t.files.map(e),c[4]=d,c[5]=t.files,c[6]=i,c[7]=a}else a=c[7];if(c[11]!==d||c[12]!==t.directories||c[13]!==i){let e;c[15]!==d||c[16]!==i?(e=e=>(0,n.jsx)(j,{depth:d+1,directory:e,...i},e.path),c[15]=d,c[16]=i,c[17]=e):e=c[17],s=t.directories.map(e),c[11]=d,c[12]=t.directories,c[13]=i,c[14]=s}else s=c[14];return c[18]!==a||c[19]!==s?(o=(0,n.jsxs)(n.Fragment,{children:[a,s]}),c[18]=a,c[19]=s,c[20]=o):o=c[20],o}let S=(0,a.memo)(function(e){let t,i,l,s,o,d,m,h,x,g,y,b=(0,r.c)(20);b[0]!==e?({diffs:i,fileNodeRenderer:l,renderPattern:o,className:t,...s}=e,b[0]=e,b[1]=t,b[2]=i,b[3]=l,b[4]=s,b[5]=o):(t=b[1],i=b[2],l=b[3],s=b[4],o=b[5]),b[6]!==i?(d=(0,f.xY)(i),b[6]=i,b[7]=d):d=b[7];let v=d,[S,N]=a.useState("");b[8]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{N(((0,u.pd)(p.fV.hash??"")??"").replace("diff-",""))},b[8]=m):m=b[8];let _=m;return b[9]===Symbol.for("react.memo_cache_sentinel")?(h=()=>(window.addEventListener("hashchange",_),_(),()=>{window.removeEventListener("hashchange",_)}),x=[_],b[9]=h,b[10]=x):(h=b[9],x=b[10]),(0,a.useEffect)(h,x),b[11]!==l||b[12]!==s||b[13]!==v||b[14]!==S||b[15]!==o?(g=(0,n.jsx)(j,{directory:v,fileNodeRenderer:l,renderPattern:o,...s,hash:S}),b[11]=l,b[12]=s,b[13]=v,b[14]=S,b[15]=o,b[16]=g):g=b[16],b[17]!==t||b[18]!==g?(y=(0,n.jsx)(c.G,{"aria-label":"File Tree",className:t,children:g}),b[17]=t,b[18]=g,b[19]=y):y=b[19],y});try{y.displayName||(y.displayName="File")}catch{}try{j.displayName||(j.displayName="Directory")}catch{}try{b.displayName||(b.displayName="TraditionalDirectoryRendering")}catch{}try{v.displayName||(v.displayName="GroupedDirectoryRendering")}catch{}try{S.displayName||(S.displayName="DiffFileTree")}catch{}function N(e){return{path:e.filePath,pathType:"file",node:e}}function _(e){return{path:e.path,pathType:"directory",node:e}}function w(e,t){return(0,f.wH)(e.path,t.path)}},26940:(e,t,i)=>{i.d(t,{kF:()=>x,F7:()=>p});var n,r=i(74848),l=i(21728),a=i(38621),s=i(9591),o=i(10569),c=i(87330),d=i(63867),f=i(15385),m=i(96540),h=i(34164);let u={filterLoadingHeight:"FileFilter-module__filterLoadingHeight--cW8BP",filterMaxHeight:"FileFilter-module__filterMaxHeight--TgM5t"},p="No extension";function x({filterSize:e="medium",filterText:t,onFilterTextChange:i,fileExtensions:n,unselectedFileExtensions:l,onFilterChange:d,additionalFilterGroups:x}){n=n??{},l=l??new Set;let[g,y]=(0,m.useState)(t),j=(e,t)=>{d?.(e?"selectFileExtension":"unselectFileExtension",{extension:t})},b=Object.keys(n).filter(e=>e!==p).sort(),v=e=>!l.has(e),S=!!n[p];return(0,r.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[(0,r.jsx)(s.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:a.SearchIcon,placeholder:"Filter files\u2026",size:e,className:(0,h.$)("small"===e&&u.filterMaxHeight),value:g,onChange:e=>{y(e.target.value),i?.(e.target.value)}}),(0,r.jsxs)(o.W,{children:[(0,r.jsx)(o.W.Anchor,{children:(0,r.jsx)(c.K,{"aria-label":"Filter options",icon:a.SlidersIcon,className:"flex-shrink-0",size:e})}),(0,r.jsx)(o.W.Overlay,{children:(0,r.jsxs)(f.l,{children:[(0,r.jsxs)(f.l.Group,{selectionVariant:"multiple",children:[(0,r.jsx)(f.l.GroupHeading,{children:"File extensions"}),b.map(e=>{let t=v(e);return(0,r.jsx)(f.l.Item,{selected:t,onSelect:()=>j(!t,e),children:`${e} (${n[e]})`},e)}),S&&(0,r.jsx)(f.l.Item,{selected:v(p),onSelect:()=>j(!v(p),p),children:`${p} (${n[p]})`},p)]}),x]})})]})]})}try{(n=function(e){let t,i,n,f,m,p=(0,l.c)(9),{filterText:x,onFilterTextChange:g}=e;return p[0]!==g?(t=e=>g?.(e.target.value),p[0]=g,p[1]=t):t=p[1],p[2]!==x||p[3]!==t?(i=(0,r.jsx)(s.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:a.SearchIcon,placeholder:"Filter files\u2026",value:x,onChange:t}),p[2]=x,p[3]=t,p[4]=i):i=p[4],p[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)(o.W.Anchor,{children:(0,r.jsx)(c.K,{"aria-label":"Filter options",icon:a.SlidersIcon,className:"flex-shrink-0"})}),p[5]=n):n=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,r.jsxs)(o.W,{children:[n,(0,r.jsx)(o.W.Overlay,{className:(0,h.$)(u.filterLoadingHeight),children:(0,r.jsx)("div",{className:(0,h.$)("d-flex","flex-column","flex-justify-center","flex-items-center",u.filterLoadingHeight),children:(0,r.jsx)(d.A,{size:"medium"})})})]}),p[6]=f):f=p[6],p[7]!==i?(m=(0,r.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[i,f]}),p[7]=i,p[8]=m):m=p[8],m}).displayName||(n.displayName="FileFilterLoading")}catch{}try{x.displayName||(x.displayName="FileFilterShared")}catch{}},86388:(e,t,i)=>{i.d(t,{G:()=>A});var n=i(74848),r=i(21728),l=i(38621),a=i(10569),s=i(15385),o=i(34164),c=i(84217),d=i(55847),f=i(98939),m=i(96540),h=i(7799),u=i(96235),p=i(25772),x=i(60039);function g(e){return!e.dismissed}function y(e){return 0===(function(){let e,t,i=(0,r.c)(5),n=(0,p.B)();if(!n){let e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],i[0]=e):e=i[0],e}i[1]!==n.userNotices?(e=n.userNotices??[],i[1]=n.userNotices,i[2]=e):e=i[2];let l=e;return i[3]!==l?(t=l.filter(g),i[3]=l,i[4]=t):t=i[4],t})().filter(t=>t.name===e).length}var j=i(4203);let b="compact_diff_lines";function v(){let e,t,i,l,a,s,o,p,g,v,_,w,C,F=(0,r.c)(22),D=y(b),{dismissNotice:E}=function(e){let t,i,n=(0,r.c)(5),l=y(e);n[0]!==l||n[1]!==e?(t=()=>{(0,h.M3)()&&!l&&(0,x.DI)((0,u.VB1)({noticeName:e}),{method:"POST"})},n[0]=l,n[1]=e,n[2]=t):t=n[2];let a=t;return n[3]!==a?(i={dismissNotice:a},n[3]=a,n[4]=i):i=n[4],i}(b);F[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:N,onError:S},F[0]=e):e=F[0];let{mutate:I}=(0,j.U)(e),[P,k]=(0,m.useState)(!0);F[1]!==E||F[2]!==I?(t=()=>{I({lineSpacing:"compact"}),k(!1),E()},F[1]=E,F[2]=I,F[3]=t):t=F[3];let T=t;F[4]!==E?(i=()=>{k(!1),E()},F[4]=E,F[5]=i):i=F[5];let $=i;return D?null:(F[6]===Symbol.for("react.memo_cache_sentinel")?(l={top:"60px",right:"-4px"},F[6]=l):l=F[6],F[7]===Symbol.for("react.memo_cache_sentinel")?(a={minWidth:"260px",width:"40%"},F[7]=a):a=F[7],F[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(c.A,{sx:{fontSize:2},as:"h2",children:"Customizable line height"}),o=(0,n.jsx)("p",{children:"The default line height has been increased for improved accessibility. You can choose to enable a more compact line height from the view settings menu."}),F[8]=s,F[9]=o):(s=F[8],o=F[9]),F[10]===Symbol.for("react.memo_cache_sentinel")?(p={flexShrink:0,flexGrow:1},F[10]=p):p=F[10],F[11]!==T?(g=(0,n.jsx)(d.Q,{onClick:T,sx:p,children:"Enable compact line height"}),F[11]=T,F[12]=g):g=F[12],F[13]===Symbol.for("react.memo_cache_sentinel")?(v={color:"accent.fg",flexGrow:1},F[13]=v):v=F[13],F[14]!==$?(_=(0,n.jsx)(d.Q,{onClick:$,variant:"invisible",sx:v,alignContent:"center",children:"Dismiss"}),F[14]=$,F[15]=_):_=F[15],F[16]!==_||F[17]!==g?(w=(0,n.jsxs)(f.A.Content,{className:"d-flex flex-column gap-2",sx:a,children:[s,o,(0,n.jsxs)("div",{className:"d-flex gap-2 flex-row w-full flex-wrap",children:[g,_]})]}),F[16]=_,F[17]=g,F[18]=w):w=F[18],F[19]!==P||F[20]!==w?(C=(0,n.jsx)(f.A,{open:P,caret:"top-right",sx:l,children:w}),F[19]=P,F[20]=w,F[21]=C):C=F[21],C)}function S(){}function N(){}try{v.displayName||(v.displayName="DiffCompactLinesPopover")}catch{}var _=i(80804),w=i(97665);function C(e){let t,i,l,a,o,c=(0,r.c)(16),{lineSpacingPreferenceAvailable:d,onUpdateWhitespace:f,reloadOnChange:m}=e,h=void 0===d||d,u=void 0!==m&&m,{data:p}=(0,_.Pe)();c[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:D,onError:F},c[0]=t):t=c[0];let{mutate:x}=(0,j.U)(t),g=(0,w.jE)();c[1]!==p||c[2]!==f||c[3]!==g||c[4]!==u?(i=()=>{p&&(g.setQueryData((0,_.nZ)(),e=>({...e,hideWhitespace:!p.hideWhitespace})),(0,_.bJ)("w",p.hideWhitespace?"0":"1"),u?window.location.reload():f?.(!p.hideWhitespace))},c[1]=p,c[2]=f,c[3]=g,c[4]=u,c[5]=i):i=c[5];let y=i;return p?(c[6]!==p.hideWhitespace||c[7]!==y?(l=(0,n.jsx)(s.l.Item,{selected:p.hideWhitespace,onSelect:y,children:"Hide whitespace"}),c[6]=p.hideWhitespace,c[7]=y,c[8]=l):l=c[8],c[9]!==p.lineSpacing||c[10]!==h||c[11]!==x?(a=h&&(0,n.jsx)(s.l.Item,{selected:"compact"===p.lineSpacing,onSelect:()=>x({lineSpacing:"compact"===p.lineSpacing?"relaxed":"compact"}),children:"Compact line height"}),c[9]=p.lineSpacing,c[10]=h,c[11]=x,c[12]=a):a=c[12],c[13]!==l||c[14]!==a?(o=(0,n.jsxs)(s.l.Group,{"aria-label":"Format",selectionVariant:"multiple",variant:"subtle",children:[l,a]}),c[13]=l,c[14]=a,c[15]=o):o=c[15],o):null}function F(){}function D(){}try{C.displayName||(C.displayName="DiffLinePresentationToggles")}catch{}function E(e){let t,i,l,a,o,c,d,f=(0,r.c)(17),{reloadOnChange:m}=e,h=void 0!==m&&m,{data:u}=(0,_.Pe)(),p=u?.splitPreference;f[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:P,onError:I},f[0]=t):t=f[0];let{mutate:x}=(0,j.U)(t);f[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(s.l.GroupHeading,{children:"Layout"}),f[1]=i):i=f[1];let g="unified"===p;f[2]!==h||f[3]!==x?(l=()=>{x({splitPreference:"unified"}),(0,_.bJ)("diff","unified"),h&&window.location.reload()},f[2]=h,f[3]=x,f[4]=l):l=f[4],f[5]!==g||f[6]!==l?(a=(0,n.jsx)(s.l.Item,{selected:g,onSelect:l,children:"Unified"}),f[5]=g,f[6]=l,f[7]=a):a=f[7];let y="split"===p;return f[8]!==h||f[9]!==x?(o=()=>{x({splitPreference:"split"}),(0,_.bJ)("diff","split"),h&&window.location.reload()},f[8]=h,f[9]=x,f[10]=o):o=f[10],f[11]!==y||f[12]!==o?(c=(0,n.jsx)(s.l.Item,{selected:y,onSelect:o,children:"Split"}),f[11]=y,f[12]=o,f[13]=c):c=f[13],f[14]!==a||f[15]!==c?(d=(0,n.jsxs)(s.l.Group,{selectionVariant:"single",children:[i,a,c]}),f[14]=a,f[15]=c,f[16]=d):d=f[16],d}function I(){}function P(){}try{E.displayName||(E.displayName="DiffViewPreferenceToggle")}catch{}var k=i(39419);function T(){let e,t,i,l,a=(0,r.c)(8),{data:o}=(0,_.Pe)();a[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:W,onError:$},a[0]=e):e=a[0];let{mutate:c}=(0,j.U)(e);if(!o)return null;let d=o.commentsPreference===k.sI.Collapsed;return a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(s.l.Divider,{}),a[1]=t):t=a[1],a[2]!==d||a[3]!==c?(i=()=>c({commentsPreference:d?k.sI.Visible:k.sI.Collapsed}),a[2]=d,a[3]=c,a[4]=i):i=a[4],a[5]!==d||a[6]!==i?(l=(0,n.jsxs)(n.Fragment,{children:[t,(0,n.jsx)(s.l.Group,{"aria-label":"Comments",selectionVariant:"single",children:(0,n.jsx)(s.l.Item,{role:"menuitemcheckbox",selected:d,onSelect:i,children:"Minimize comments"})})]}),a[5]=d,a[6]=i,a[7]=l):l=a[7],l}function $(){}function W(){}try{T.displayName||(T.displayName="DiffCommentsPreferenceToggle")}catch{}function A(e){let t,i,c,d,f,m,h,u,p,x,g,y=(0,r.c)(23),{invisible:j,lineSpacingPreferenceAvailable:b,onUpdateWhitespace:S,reloadOnSplitPreferenceChange:N,reloadOnWhitespaceChange:_,small:w}=e,F=void 0===b||b,D=void 0!==N&&N,I=void 0!==_&&_,P=void 0===j||j?"Button--invisible":"Button--secondary",k=w&&"Button--small";return y[0]!==P||y[1]!==k?(t=(0,o.$)("Button Button--iconOnly",P,k),y[0]=P,y[1]=k,y[2]=t):t=y[2],y[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(l.GearIcon,{}),y[3]=i):i=y[3],y[4]!==t?(c=(0,n.jsx)(a.W.Anchor,{children:(0,n.jsx)("button",{className:t,"aria-label":"Open diff view settings",children:i})}),y[4]=t,y[5]=c):c=y[5],y[6]!==D?(d=(0,n.jsx)(E,{reloadOnChange:D}),y[6]=D,y[7]=d):d=y[7],y[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsx)(T,{}),m=(0,n.jsx)(s.l.Divider,{}),y[8]=f,y[9]=m):(f=y[8],m=y[9]),y[10]!==F||y[11]!==S||y[12]!==I?(h=(0,n.jsx)(C,{lineSpacingPreferenceAvailable:F,onUpdateWhitespace:S,reloadOnChange:I}),y[10]=F,y[11]=S,y[12]=I,y[13]=h):h=y[13],y[14]!==d||y[15]!==h?(u=(0,n.jsx)(a.W.Overlay,{children:(0,n.jsxs)(s.l,{children:[d,f,m,h]})}),y[14]=d,y[15]=h,y[16]=u):u=y[16],y[17]!==u||y[18]!==c?(p=(0,n.jsxs)(a.W,{children:[c,u]}),y[17]=u,y[18]=c,y[19]=p):p=y[19],y[20]===Symbol.for("react.memo_cache_sentinel")?(x=(0,n.jsx)(v,{}),y[20]=x):x=y[20],y[21]!==p?(g=(0,n.jsxs)(n.Fragment,{children:[p,x]}),y[21]=p,y[22]=g):g=y[22],g}try{A.displayName||(A.displayName="DiffViewSettings")}catch{}},63869:(e,t,i)=>{i.d(t,{L:()=>o});var n=i(74848),r=i(21728),l=i(38621),a=i(87330),s=i(34164);let o=i(96540).forwardRef((e,t)=>{let i,o,c,d=(0,r.c)(17),{expanded:f,testid:m,ariaLabel:h,ariaControls:u,onToggleExpanded:p,alignment:x,dataHotkey:g,className:y,size:j,tooltipDirection:b,variant:v}=e,S=f?`collapse-${m}`:`expand-${m}`,N=f?"left"===x?l.SidebarExpandIcon:l.SidebarCollapseIcon:"left"===x?l.SidebarCollapseIcon:l.SidebarExpandIcon;d[0]!==p?(i=e=>{p(e)},d[0]=p,d[1]=i):i=d[1];let _=v??"invisible";return d[2]!==y?(o=(0,s.$)(y,"fgColor-muted"),d[2]=y,d[3]=o):o=d[3],d[4]!==u||d[5]!==h||d[6]!==g||d[7]!==f||d[8]!==t||d[9]!==j||d[10]!==S||d[11]!==N||d[12]!==i||d[13]!==_||d[14]!==o||d[15]!==b?(c=(0,n.jsx)(a.K,{"aria-label":h,tooltipDirection:b,ref:t,"data-testid":S,"aria-expanded":f,"aria-controls":u,icon:N,"data-hotkey":g,onClick:i,variant:_,size:j,className:o}),d[4]=u,d[5]=h,d[6]=g,d[7]=f,d[8]=t,d[9]=j,d[10]=S,d[11]=N,d[12]=i,d[13]=_,d[14]=o,d[15]=b,d[16]=c):c=d[16],c});o.displayName="ExpandButton"}}]);
//# sourceMappingURL=ui_packages_use-hide-footer_use-hide-footer_ts-ui_packages_commits_shared_use-tree-pane_tsx-u-59d336-dc4e4682b250.js.map